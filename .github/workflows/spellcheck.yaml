name: Spellcheck Task
on: [ pull_request ]
concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true
jobs:
  spellcheck:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout codebase
        uses: actions/checkout@v3
      - name: Get Changed Files
        id: files
        uses: tj-actions/changed-files@v41
        with:
          files: |
            ./public/*.html
            ./public/*.txt
            ./public/*.json
            ./src/**/*.html
            ./src/**/*.json
            ./src/**/*.ts
            ./src/**/*.tsx
      - name: Run spellchecker
        if: steps.files.outputs.any_changed == 'true'
        uses: ./.github/workflows/spellchecker.yaml
